<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Details - Eventify</title>
    <meta name="description" content="View detailed information about university club events on Eventify.">
    
    <!-- Tailwind CSS -->
    <link href="./styles/output.css" rel="stylesheet">
    
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    

    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="./assets/img/logo.svg">
</head>
<body class="bg-brand-surface text-brand-text font-body min-h-screen">
    <!-- Navigation -->
    <nav class="nav-blur sticky top-0 z-40">
        <div class="container-custom">
            <div class="flex items-center justify-between h-16">
                <!-- Logo -->
                <div class="flex items-center space-x-3">
                    <a href="index.html" class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-gradient-to-br from-brand-primary to-brand-accent rounded-xl flex items-center justify-center glow-effect">
                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                        </div>
                        <span class="text-xl font-bold text-gradient">Eventify</span>
                    </a>
                </div>

                <!-- Desktop Navigation -->
                <div class="hidden md:flex items-center space-x-8">
                    <a href="index.html" class="text-brand-muted hover:text-brand-text transition-colors">Home</a>
                    <a href="events.html" class="text-brand-muted hover:text-brand-text transition-colors">Events</a>
                    <a href="faq.html" class="text-brand-muted hover:text-brand-text transition-colors">FAQ</a>
                    
                    <!-- Guest Navigation -->
                    <div data-auth="guest" class="flex items-center space-x-4">
                        <a href="auth-new.html" class="btn btn-ghost">Login</a>
                        <a href="auth-new.html" class="btn btn-primary">Sign Up</a>
                    </div>

                    <!-- Authenticated Navigation -->
                    <div data-auth="required" class="hidden flex items-center space-x-4">
                        <a href="dashboard.html" data-auth="student" class="text-brand-muted hover:text-brand-text transition-colors">Dashboard</a>
                        <a href="admin-dashboard.html" data-auth="admin" class="text-brand-muted hover:text-brand-text transition-colors">Admin</a>
                        
                        <!-- User Menu -->
                        <div class="relative" id="user-menu">
                            <button class="flex items-center space-x-2 text-brand-text hover:text-brand-primary transition-colors">
                                <div class="w-8 h-8 bg-gradient-to-br from-brand-primary to-brand-accent rounded-full flex items-center justify-center" id="user-avatar">
                                    <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
                                    </svg>
                                </div>
                                <span id="user-name" class="font-medium">User</span>
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414L10 11.414l-3.293 3.293a1 1 0 01-1.414-1.414L8.586 10 5.293 6.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
                                </svg>
                            </button>
                            
                            <!-- Dropdown Menu -->
                            <div class="absolute right-0 mt-2 w-48 glass-effect rounded-2xl shadow-2xl opacity-0 invisible transition-all duration-200">
                                <div class="py-2">
                                    <a href="profile.html" class="block px-4 py-2 text-sm text-brand-text hover:bg-white/5 transition-colors">Profile</a>
                                    <a href="settings.html" class="block px-4 py-2 text-sm text-brand-text hover:bg-white/5 transition-colors">Settings</a>
                                    <hr class="border-white/10 my-2">
                                    <button id="logout-btn" class="block w-full text-left px-4 py-2 text-sm text-brand-danger hover:bg-white/5 transition-colors">Logout</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Theme Toggle -->
                <button id="theme-toggle" class="p-2 text-brand-muted hover:text-brand-text transition-colors rounded-xl hover:bg-white/5">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 000 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"/>
                    </svg>
                </button>

                <!-- Mobile Menu Button -->
                <button id="mobile-menu-button" class="md:hidden p-2 text-brand-muted hover:text-brand-text transition-colors rounded-xl hover:bg-white/5">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"/>
                    </svg>
                </button>
            </div>

            <!-- Mobile Menu -->
            <div id="mobile-menu" class="hidden md:hidden pb-4 border-t border-white/10">
                <div class="flex flex-col space-y-4 pt-4">
                    <a href="index.html" class="text-brand-text hover:text-brand-primary transition-colors font-medium">Home</a>
                    <a href="events.html" class="text-brand-muted hover:text-brand-text transition-colors">Events</a>
                    <a href="faq.html" class="text-brand-muted hover:text-brand-text transition-colors">FAQ</a>
                    
                    <!-- Guest Mobile Navigation -->
                    <div data-auth="guest" class="flex flex-col space-y-2">
                        <a href="auth-new.html" class="btn btn-ghost w-full justify-center">Login</a>
                        <a href="auth-new.html" class="btn btn-primary w-full justify-center">Sign Up</a>
                    </div>

                    <!-- Authenticated Mobile Navigation -->
                    <div data-auth="required" class="hidden flex flex-col space-y-2">
                        <a href="dashboard.html" data-auth="student" class="text-brand-muted hover:text-brand-text transition-colors">Dashboard</a>
                        <a href="admin-dashboard.html" data-auth="admin" class="text-brand-muted hover:text-brand-text transition-colors">Admin</a>
                        <a href="profile.html" class="text-brand-muted hover:text-brand-text transition-colors">Profile</a>
                        <a href="settings.html" class="text-brand-muted hover:text-brand-text transition-colors">Settings</a>
                        <button id="mobile-logout-btn" class="text-left text-brand-danger hover:text-brand-danger/80 transition-colors">Logout</button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-16">
        <!-- Loading State -->
        <div id="loading-state" class="min-h-screen flex items-center justify-center">
            <div class="text-center">
                <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-brand-primary/20 to-brand-accent/20 rounded-2xl mb-4">
                    <svg class="w-8 h-8 text-brand-primary animate-spin" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd"/>
                    </svg>
                </div>
                <p class="text-brand-muted">Loading event details...</p>
            </div>
        </div>

        <!-- Event Details Content -->
        <div id="event-content" class="hidden">
            <!-- Hero Section -->
            <section class="relative overflow-hidden">
                <div class="absolute inset-0 bg-gradient-to-br from-brand-primary/10 via-transparent to-brand-accent/10"></div>
                <div class="container-custom relative z-10 py-16">
                    <div class="max-w-4xl mx-auto">
                        <!-- Breadcrumb -->
                        <nav class="flex items-center space-x-2 text-sm text-brand-muted mb-8">
                            <a href="index.html" class="hover:text-brand-text transition-colors">Home</a>
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <a href="events.html" class="hover:text-brand-text transition-colors">Events</a>
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-brand-text" id="event-title-breadcrumb">Event</span>
                        </nav>

                        <!-- Event Header -->
                        <div class="text-center mb-12">
                            <!-- Event Banner Image -->
                            <div class="relative h-64 md:h-80 bg-gradient-to-br from-brand-primary/20 to-brand-accent/20 rounded-2xl overflow-hidden mb-8">
                                <div id="event-banner-container">
                                    <!-- Banner will be loaded here -->
                                    <div class="w-full h-full flex items-center justify-center">
                                        <svg class="w-24 h-24 text-brand-muted" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"/>
                                        </svg>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-500/20 text-green-400 mb-6" id="event-status">
                                Upcoming
                            </div>
                            <h1 class="text-4xl md:text-5xl font-bold text-brand-text mb-6" id="event-title">
                                Event Title
                            </h1>
                            <p class="text-xl text-brand-muted max-w-3xl mx-auto" id="event-description">
                                Event description will be loaded here...
                            </p>
                        </div>

                        <!-- Quick Info Cards -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
                            <div class="card p-6 text-center">
                                <div class="w-12 h-12 bg-gradient-to-br from-brand-primary/20 to-brand-primary/10 rounded-2xl flex items-center justify-center mx-auto mb-4">
                                    <svg class="w-6 h-6 text-brand-primary" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
                                    </svg>
                                </div>
                                <h3 class="text-lg font-semibold text-brand-text mb-1" id="event-date">Date</h3>
                                <p class="text-brand-muted">Date & Time</p>
                            </div>

                            <div class="card p-6 text-center">
                                <div class="w-12 h-12 bg-gradient-to-br from-brand-accent/20 to-brand-accent/10 rounded-2xl flex items-center justify-center mx-auto mb-4">
                                    <svg class="w-6 h-6 text-brand-accent" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"/>
                                    </svg>
                                </div>
                                <h3 class="text-lg font-semibold text-brand-text mb-1" id="event-location">Location</h3>
                                <p class="text-brand-muted">Venue</p>
                            </div>

                            <div class="card p-6 text-center">
                                <div class="w-12 h-12 bg-gradient-to-br from-brand-success/20 to-brand-success/10 rounded-2xl flex items-center justify-center mx-auto mb-4">
                                    <svg class="w-6 h-6 text-brand-success" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"/>
                                    </svg>
                                </div>
                                <h3 class="text-lg font-semibold text-brand-text mb-1" id="event-capacity">Capacity</h3>
                                <p class="text-brand-muted">Attendees</p>
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center mb-12">
                            <button id="share-btn" class="btn btn-secondary px-8 py-4 text-lg font-medium hover:scale-105 transition-transform duration-300">
                                <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"/>
                                </svg>
                                Share Event
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Detailed Information -->
            <section class="py-16">
                <div class="container-custom">
                    <div class="max-w-6xl mx-auto">
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
                            <!-- Main Content -->
                            <div class="lg:col-span-2 space-y-8">
                                <!-- About Section -->
                                <div class="card p-8">
                                    <h2 class="text-2xl font-bold text-brand-text mb-6">About This Event</h2>
                                    <div class="prose prose-invert max-w-none">
                                        <p class="text-brand-muted text-lg leading-relaxed" id="event-full-description">
                                            Full event description will be loaded here...
                                        </p>
                                    </div>
                                </div>

                                <!-- Event Schedule -->
                                <div class="card p-8">
                                    <h2 class="text-2xl font-bold text-brand-text mb-6">Event Schedule</h2>
                                    <div class="space-y-4">
                                        <div class="flex items-center space-x-4 p-4 bg-white/5 rounded-lg">
                                            <div class="w-12 h-12 bg-gradient-to-br from-brand-primary/20 to-brand-primary/10 rounded-xl flex items-center justify-center">
                                                <svg class="w-6 h-6 text-brand-primary" fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
                                                </svg>
                                            </div>
                                            <div>
                                                <h3 class="font-semibold text-brand-text">Start Time</h3>
                                                <p class="text-brand-muted" id="event-start-time">Loading...</p>
                                            </div>
                                        </div>
                                        <div class="flex items-center space-x-4 p-4 bg-white/5 rounded-lg">
                                            <div class="w-12 h-12 bg-gradient-to-br from-brand-accent/20 to-brand-accent/10 rounded-xl flex items-center justify-center">
                                                <svg class="w-6 h-6 text-brand-accent" fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
                                                </svg>
                                            </div>
                                            <div>
                                                <h3 class="font-semibold text-brand-text">End Time</h3>
                                                <p class="text-brand-muted" id="event-end-time">Loading...</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Event Features -->
                                <div class="card p-8">
                                    <h2 class="text-2xl font-bold text-brand-text mb-6">Event Features</h2>
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div class="flex items-center space-x-3 p-3 bg-white/5 rounded-lg">
                                            <div class="w-8 h-8 bg-gradient-to-br from-brand-success/20 to-brand-success/10 rounded-lg flex items-center justify-center">
                                                <svg class="w-4 h-4 text-brand-success" fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                                </svg>
                                            </div>
                                            <span class="text-brand-text" id="feature-1">Feature 1</span>
                                        </div>
                                        <div class="flex items-center space-x-3 p-3 bg-white/5 rounded-lg">
                                            <div class="w-8 h-8 bg-gradient-to-br from-brand-success/20 to-brand-success/10 rounded-lg flex items-center justify-center">
                                                <svg class="w-4 h-4 text-brand-success" fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                                </svg>
                                            </div>
                                            <span class="text-brand-text" id="feature-2">Feature 2</span>
                                        </div>
                                        <div class="flex items-center space-x-3 p-3 bg-white/5 rounded-lg">
                                            <div class="w-8 h-8 bg-gradient-to-br from-brand-success/20 to-brand-success/10 rounded-lg flex items-center justify-center">
                                                <svg class="w-4 h-4 text-brand-success" fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                                </svg>
                                            </div>
                                            <span class="text-brand-text" id="feature-3">Feature 3</span>
                                        </div>
                                        <div class="flex items-center space-x-3 p-3 bg-white/5 rounded-lg">
                                            <div class="w-8 h-8 bg-gradient-to-br from-brand-success/20 to-brand-success/10 rounded-lg flex items-center justify-center">
                                                <svg class="w-4 h-4 text-brand-success" fill="currentColor" viewBox="0 0 20 20">
                                                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                                                </svg>
                                            </div>
                                            <span class="text-brand-text" id="feature-4">Feature 4</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Sidebar -->
                            <div class="space-y-6">
                                <!-- Event Details Card -->
                                <div class="card p-6">
                                    <h3 class="text-lg font-semibold text-brand-text mb-4">Event Details</h3>
                                    <div class="space-y-3">
                                        <div class="flex justify-between">
                                            <span class="text-brand-muted">Category:</span>
                                            <span class="text-brand-text font-medium" id="event-category">Loading...</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-brand-muted">Room:</span>
                                            <span class="text-brand-text font-medium" id="event-room">Loading...</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-brand-muted">Registration Deadline:</span>
                                            <span class="text-brand-text font-medium" id="event-deadline">Loading...</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-brand-muted">Approval Required:</span>
                                            <span class="text-brand-text font-medium" id="event-approval">Loading...</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-brand-muted">Waitlist Available:</span>
                                            <span class="text-brand-text font-medium" id="event-waitlist">Loading...</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Attendees Card -->
                                <div class="card p-6">
                                    <h3 class="text-lg font-semibold text-brand-text mb-4">Attendees</h3>
                                    <div class="text-center">
                                        <div class="text-3xl font-bold text-brand-primary mb-2" id="attendee-count">0</div>
                                        <p class="text-brand-muted">registered</p>
                                        <div class="w-16 h-1 bg-gradient-to-r from-brand-primary to-brand-accent rounded-full mx-auto mt-3"></div>
                                    </div>
                                </div>

                                <!-- Organizer Card -->
                                <div class="card p-6">
                                    <h3 class="text-lg font-semibold text-brand-text mb-4">Organized By</h3>
                                    <div class="flex items-center space-x-3">
                                        <div class="w-10 h-10 bg-gradient-to-br from-brand-primary to-brand-accent rounded-full flex items-center justify-center">
                                            <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                                                <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
                                            </svg>
                                        </div>
                                        <div>
                                            <p class="font-medium text-brand-text" id="organizer-name">Admin</p>
                                            <p class="text-sm text-brand-muted">Event Organizer</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Error State -->
        <div id="error-state" class="hidden min-h-screen flex items-center justify-center">
            <div class="text-center">
                <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-red-500/20 to-red-600/20 rounded-2xl mb-4">
                    <svg class="w-8 h-8 text-red-500" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                    </svg>
                </div>
                <h3 class="text-lg font-semibold text-brand-text mb-2">Event Not Found</h3>
                <p class="text-brand-muted mb-6">The event you're looking for doesn't exist or has been removed.</p>
                <a href="events.html" class="btn btn-primary px-6 py-3 rounded-lg font-medium hover:scale-105 transition-transform duration-300 shadow-lg">
                    <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    Browse All Events
                </a>
            </div>
            </div>
        </div>
    </main>

    <!-- Scripts -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
        import { getFirestore, doc, getDoc, updateDoc, increment, collection, onSnapshot, query, where, setDoc, serverTimestamp, getDocs } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyASOYZU9OI454p5t9obtZP3mkA6ncawCBw",
            authDomain: "eventify-5e54d.firebaseapp.com",
            projectId: "eventify-5e54d",
            storageBucket: "eventify-5e54d.firebasestorage.app",
            messagingSenderId: "1035518806464",
            appId: "1:1035518806464:web:c5fb9df49b319cd639a025",
            measurementId: "G-0ZC704LYMG"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        let currentEvent = null;

        // Check authentication state
        onAuthStateChanged(auth, (user) => {
            const guestElements = document.querySelectorAll('[data-auth="guest"]');
            const requiredElements = document.querySelectorAll('[data-auth="required"]');
            const adminElements = document.querySelectorAll('[data-auth="admin"]');
            const studentElements = document.querySelectorAll('[data-auth="student"]');

            if (user) {
                // User is signed in
                guestElements.forEach(el => el.classList.add('hidden'));
                requiredElements.forEach(el => el.classList.remove('hidden'));
                
                // Check if user is admin
                if (user.email === 'admin@eventify.com') {
                    adminElements.forEach(el => el.classList.remove('hidden'));
                    studentElements.forEach(el => el.classList.add('hidden'));
                } else {
                    adminElements.forEach(el => el.classList.add('hidden'));
                    studentElements.forEach(el => el.classList.remove('hidden'));
                }

                // Update user info
                const userName = document.getElementById('user-name');
                const userAvatar = document.getElementById('user-avatar');
                
                if (userName) userName.textContent = user.displayName || 'User';
                if (userAvatar) {
                    userAvatar.innerHTML = user.displayName ? 
                        `<span class="text-sm font-bold">${user.displayName.charAt(0).toUpperCase()}</span>` :
                        `<svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
                        </svg>`;
                }
            } else {
                // User is signed out
                guestElements.forEach(el => el.classList.remove('hidden'));
                requiredElements.forEach(el => el.classList.add('hidden'));
                adminElements.forEach(el => el.classList.add('hidden'));
                studentElements.forEach(el => el.classList.add('hidden'));
            }
        });

        // Removed attendee listener to avoid permission errors

        // Load event details
        async function loadEventDetails() {
            try {
                // Get event ID from URL
                const urlParams = new URLSearchParams(window.location.search);
                const eventId = urlParams.get('id');
                
                if (!eventId) {
                    showError();
                    return;
                }

                console.log('Loading event details for ID:', eventId);
                
                // Fetch event from Firestore
                const eventDoc = await getDoc(doc(db, 'events', eventId));
                
                if (!eventDoc.exists()) {
                    showError();
                    return;
                }

                currentEvent = { id: eventDoc.id, ...eventDoc.data() };
                console.log('Loaded event:', currentEvent);
                
                // Track event view
                await trackEventView(eventId);
                
                // Display event details
                displayEventDetails();
                
            } catch (error) {
                console.error('Error loading event details:', error);
                showError();
            }
        }

        // Display event details
        function displayEventDetails() {
            if (!currentEvent) return;

            // Hide loading, show content
            document.getElementById('loading-state').classList.add('hidden');
            document.getElementById('event-content').classList.remove('hidden');

            // Update page title
            document.title = `${currentEvent.title} - Eventify`;

            // Update breadcrumb
            document.getElementById('event-title-breadcrumb').textContent = currentEvent.title;

            // Update main content
            document.getElementById('event-title').textContent = currentEvent.title;
            document.getElementById('event-description').textContent = currentEvent.description || 'No description available';
            document.getElementById('event-status').textContent = currentEvent.status || 'upcoming';
            document.getElementById('event-full-description').textContent = currentEvent.description || 'No detailed description available.';

            // Update date and time
            if (currentEvent.startAt) {
                const startDate = new Date(currentEvent.startAt.seconds * 1000);
                const endDate = currentEvent.endAt ? new Date(currentEvent.endAt.seconds * 1000) : startDate;
                
                document.getElementById('event-date').textContent = startDate.toLocaleDateString();
                document.getElementById('event-start-time').textContent = startDate.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
                document.getElementById('event-end-time').textContent = endDate.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            }

            // Update location and capacity
            document.getElementById('event-location').textContent = currentEvent.location || 'Location TBD';
            document.getElementById('event-capacity').textContent = currentEvent.capacity ? `${currentEvent.attendeeCount || 0}/${currentEvent.capacity}` : 'Unlimited';

            // Update category and room
            document.getElementById('event-category').textContent = currentEvent.category || 'General';
            document.getElementById('event-room').textContent = currentEvent.room || 'TBD';

            // Update registration details
            if (currentEvent.registrationDeadline) {
                const deadline = new Date(currentEvent.registrationDeadline);
                document.getElementById('event-deadline').textContent = deadline.toLocaleDateString();
            } else {
                document.getElementById('event-deadline').textContent = 'No deadline';
            }

            document.getElementById('event-approval').textContent = currentEvent.requireApproval ? 'Yes' : 'No';
            document.getElementById('event-waitlist').textContent = currentEvent.allowWaitlist ? 'Yes' : 'No';

            // Update attendee count
            document.getElementById('attendee-count').textContent = currentEvent.attendeeCount || 0;

            // Update features
            const features = [];
            if (currentEvent.sendReminders) features.push('Send Reminders');
            if (currentEvent.generateCertificates) features.push('Generate Certificates');
            if (currentEvent.requireApproval) features.push('Approval Required');
            if (currentEvent.allowWaitlist) features.push('Waitlist Available');

            document.getElementById('feature-1').textContent = features[0] || 'Standard Event';
            document.getElementById('feature-2').textContent = features[1] || 'Professional Setup';
            document.getElementById('feature-3').textContent = features[2] || 'Quality Assurance';
            document.getElementById('feature-4').textContent = features[3] || 'Student Focused';

            // Update organizer
            document.getElementById('organizer-name').textContent = currentEvent.createdBy === 'admin' ? 'Admin' : 'Event Organizer';

            // Update event banner image
            const bannerContainer = document.getElementById('event-banner-container');
            if (currentEvent.imageUrl) {
                bannerContainer.innerHTML = `
                    <img src="${currentEvent.imageUrl}" alt="${currentEvent.title}" class="w-full h-full object-cover">
                `;
            } else {
                bannerContainer.innerHTML = `
                    <div class="w-full h-full flex items-center justify-center">
                        <svg class="w-24 h-24 text-brand-muted" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                `;
            }
        }

        // Show error state
        function showError() {
            document.getElementById('loading-state').classList.add('hidden');
            document.getElementById('error-state').classList.remove('hidden');
        }

        // Registration functionality removed to avoid permission errors

        // Toast notification function
        function showToast(message, type = 'info') {
            const toast = document.createElement('div');
            toast.className = `fixed top-4 right-4 z-50 px-6 py-3 rounded-lg font-medium transform translate-x-full transition-all duration-300 ${
                type === 'success' ? 'bg-green-500 text-white' :
                type === 'error' ? 'bg-red-500 text-white' :
                type === 'warning' ? 'bg-yellow-500 text-white' :
                'bg-blue-500 text-white'
            }`;
            toast.textContent = message;
            
            document.body.appendChild(toast);
            
            // Animate in
            setTimeout(() => {
                toast.classList.remove('translate-x-full');
            }, 10);
            
            // Auto remove
            setTimeout(() => {
                toast.classList.add('translate-x-full');
                setTimeout(() => {
                    if (toast.parentNode) {
                        toast.parentNode.removeChild(toast);
                    }
                }, 300);
            }, 3000);
        }

        document.getElementById('share-btn').addEventListener('click', () => {
            if (navigator.share) {
                navigator.share({
                    title: currentEvent?.title || 'Event',
                    text: currentEvent?.description || 'Check out this event!',
                    url: window.location.href
                });
            } else {
                // Fallback: copy to clipboard
                navigator.clipboard.writeText(window.location.href).then(() => {
                    alert('Event link copied to clipboard!');
                });
            }
        });

        // Logout functionality
        document.addEventListener('click', function(event) {
            if (event.target.id === 'logout-btn' || event.target.id === 'mobile-logout-btn') {
                auth.signOut().then(() => {
                    window.location.href = 'index.html';
                }).catch((error) => {
                    console.error('Logout error:', error);
                });
            }
        });

        // Theme toggle
        document.getElementById('theme-toggle').addEventListener('click', () => {
            document.documentElement.classList.toggle('dark');
        });

        // Mobile menu toggle
        document.getElementById('mobile-menu-button').addEventListener('click', () => {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('hidden');
        });

        // Registration functions removed to avoid permission errors

        // Load event details when page loads
        document.addEventListener('DOMContentLoaded', () => {
            loadEventDetails();
        });

        // Track event view
        async function trackEventView(eventId) {
            try {
                const eventRef = doc(db, 'events', eventId);
                await updateDoc(eventRef, {
                    viewCount: increment(1)
                });
                console.log('Event view tracked:', eventId);
            } catch (error) {
                console.error('Error tracking event view:', error);
            }
        }

        // Expose trackEventView globally
        window.trackEventView = trackEventView;

        console.log('Event details page script loaded');
    </script>
</body>
</html>
